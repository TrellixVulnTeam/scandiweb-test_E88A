{"ast":null,"code":"import * as actionTypes from \"../../constants/actionTypes\";\nimport { client } from \"../../utils/ClientApi\";\nimport gql from \"graphql-tag\";\nexport const requestPrices = () => async dispatch => {\n  dispatch({\n    type: actionTypes.GET_PRODUCTS_START\n  });\n\n  try {\n    const result = await client.query({\n      query: gql`\n                query getPrices {\n                    categories {\n                        products {\n                            prices {\n                              amount\n                            }\n                        }\n                    }\n                }\n            `\n    });\n    result.data.categories.map(x => console.log(x));\n    dispatch({\n      type: actionTypes.GET_PRICES_SUCCESS,\n      payload: result.data.categories\n    });\n  } catch (e) {\n    dispatch({\n      type: actionTypes.GET_PRICES_FAILED\n    });\n  }\n};","map":{"version":3,"sources":["/Users/val/work/scandiweb-test/my-app/src/redux/actions/prices.js"],"names":["actionTypes","client","gql","requestPrices","dispatch","type","GET_PRODUCTS_START","result","query","data","categories","map","x","console","log","GET_PRICES_SUCCESS","payload","e","GET_PRICES_FAILED"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,6BAA7B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACjDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,WAAW,CAACM;AAApB,GAAD,CAAR;;AACA,MAAI;AACA,UAAMC,MAAM,GAAG,MAAMN,MAAM,CAACO,KAAP,CAAa;AAC9BA,MAAAA,KAAK,EAAEN,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAX0C,KAAb,CAArB;AAaAK,IAAAA,MAAM,CAACE,IAAP,CAAYC,UAAZ,CAAuBC,GAAvB,CAA4BC,CAAD,IAAOC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAAlC;AACJR,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACe,kBAApB;AAAwCC,MAAAA,OAAO,EAAET,MAAM,CAACE,IAAP,CAAYC;AAA7D,KAAD,CAAR;AACC,GAhBD,CAgBE,OAAOO,CAAP,EAAU;AACRb,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACkB;AAApB,KAAD,CAAR;AACH;AACJ,CArBM","sourcesContent":["import * as actionTypes from \"../../constants/actionTypes\";\nimport { client } from \"../../utils/ClientApi\";\nimport gql from \"graphql-tag\";\n\nexport const requestPrices = () => async dispatch => {\n    dispatch({ type: actionTypes.GET_PRODUCTS_START });\n    try {\n        const result = await client.query({\n            query: gql`\n                query getPrices {\n                    categories {\n                        products {\n                            prices {\n                              amount\n                            }\n                        }\n                    }\n                }\n            `\n        });\n        result.data.categories.map((x) => console.log(x))\n    dispatch({ type: actionTypes.GET_PRICES_SUCCESS, payload: result.data.categories})\n    } catch (e) {\n        dispatch({ type: actionTypes.GET_PRICES_FAILED })\n    }\n}"]},"metadata":{},"sourceType":"module"}