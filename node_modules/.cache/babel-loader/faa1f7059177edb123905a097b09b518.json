{"ast":null,"code":"import * as actionTypes from \"../../constants/actionTypes\";\nimport { client } from \"../../utils/ClientApi\";\nimport gql from \"graphql-tag\";\nexport const requestPrices = () => async dispatch => {\n  dispatch({\n    type: actionTypes.GET_PRODUCTS_START\n  });\n\n  try {\n    const result = await client.query({\n      query: gql`\n                query getPrices {\n                    categories {\n                        products {\n                            prices {\n                              amount\n                            }\n                        }\n                    }\n                }\n            `\n    });\n    const allPrices = result.data.categories.map(x => x.products.map(y => y).map(product => product.map(x => console.log(x))));\n    console.log(allPrices);\n    dispatch({\n      type: actionTypes.GET_PRICES_SUCCESS,\n      payload: result.data\n    });\n  } catch (e) {\n    dispatch({\n      type: actionTypes.GET_PRICES_FAILED\n    });\n  }\n};","map":{"version":3,"sources":["/Users/val/work/scandiweb-test/my-app/src/redux/actions/prices.js"],"names":["actionTypes","client","gql","requestPrices","dispatch","type","GET_PRODUCTS_START","result","query","allPrices","data","categories","map","x","products","y","product","console","log","GET_PRICES_SUCCESS","payload","e","GET_PRICES_FAILED"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,6BAA7B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACjDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,WAAW,CAACM;AAApB,GAAD,CAAR;;AACA,MAAI;AACA,UAAMC,MAAM,GAAG,MAAMN,MAAM,CAACO,KAAP,CAAa;AAC9BA,MAAAA,KAAK,EAAEN,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAX0C,KAAb,CAArB;AAaA,UAAMO,SAAS,GAAGF,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBC,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACC,QAAF,CAAWF,GAAX,CAAeG,CAAC,IAAIA,CAApB,EAAuBH,GAAvB,CAA2BI,OAAO,IAAIA,OAAO,CAACJ,GAAR,CAAYC,CAAC,IAAII,OAAO,CAACC,GAAR,CAAYL,CAAZ,CAAjB,CAAtC,CAAhC,CAAlB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYT,SAAZ;AACAL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACmB,kBAApB;AAAwCC,MAAAA,OAAO,EAAEb,MAAM,CAACG;AAAxD,KAAD,CAAR;AACH,GAjBD,CAiBE,OAAOW,CAAP,EAAU;AACRjB,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACsB;AAApB,KAAD,CAAR;AACH;AACJ,CAtBM","sourcesContent":["import * as actionTypes from \"../../constants/actionTypes\";\nimport { client } from \"../../utils/ClientApi\";\nimport gql from \"graphql-tag\";\n\nexport const requestPrices = () => async dispatch => {\n    dispatch({ type: actionTypes.GET_PRODUCTS_START });\n    try {\n        const result = await client.query({\n            query: gql`\n                query getPrices {\n                    categories {\n                        products {\n                            prices {\n                              amount\n                            }\n                        }\n                    }\n                }\n            `\n        });\n        const allPrices = result.data.categories.map(x => x.products.map(y => y).map(product => product.map(x => console.log(x))));\n        console.log(allPrices)\n        dispatch({ type: actionTypes.GET_PRICES_SUCCESS, payload: result.data})\n    } catch (e) {\n        dispatch({ type: actionTypes.GET_PRICES_FAILED })\n    }\n}"]},"metadata":{},"sourceType":"module"}