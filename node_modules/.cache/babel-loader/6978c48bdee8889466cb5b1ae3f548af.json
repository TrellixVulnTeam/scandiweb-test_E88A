{"ast":null,"code":"import * as actionTypes from \"../../constants/actionTypes\";\nimport { client } from \"../../utils/ClientApi\";\nimport gql from \"graphql-tag\";\nexport const requestPrices = () => async dispatch => {\n  dispatch({\n    type: actionTypes.GET_PRODUCTS_START\n  });\n\n  try {\n    const result = await client.query({\n      query: gql`\n                query getPrices {\n                    categories {\n                        products {\n                            prices {\n                                currency\n                                amount\n                            }\n                        }\n                    }\n                }\n            `\n    });\n    const allPrices = result.data.categories.map(x => x.products.map(product => product.prices.map(product => [product.amount, product.currency])));\n    console.log(allPrices);\n    dispatch({\n      type: actionTypes.GET_PRICES_SUCCESS,\n      payload: result.data.categories.map(x => x.products.map(product => product.prices.map(product => [product.amount, product.currency])))\n    });\n  } catch (e) {\n    dispatch({\n      type: actionTypes.GET_PRICES_FAILED\n    });\n  }\n};","map":{"version":3,"sources":["/Users/val/work/scandiweb-test/my-app/src/redux/actions/prices.js"],"names":["actionTypes","client","gql","requestPrices","dispatch","type","GET_PRODUCTS_START","result","query","allPrices","data","categories","map","x","products","product","prices","amount","currency","console","log","GET_PRICES_SUCCESS","payload","e","GET_PRICES_FAILED"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,6BAA7B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACjDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,WAAW,CAACM;AAApB,GAAD,CAAR;;AACA,MAAI;AACA,UAAMC,MAAM,GAAG,MAAMN,MAAM,CAACO,KAAP,CAAa;AAC9BA,MAAAA,KAAK,EAAEN,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZ0C,KAAb,CAArB;AAcJ,UAAMO,SAAS,GAAGF,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBC,GAAvB,CAA4BC,CAAD,IAAOA,CAAC,CAACC,QAAF,CACnDF,GADmD,CAC/CG,OAAO,IAAIA,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAmBG,OAAO,IAAI,CAACA,OAAO,CAACE,MAAT,EAAiBF,OAAO,CAACG,QAAzB,CAA9B,CADoC,CAAlC,CAAlB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYX,SAAZ;AACAL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACqB,kBAApB;AAAwCC,MAAAA,OAAO,EAAEf,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBC,GAAvB,CAA4BC,CAAD,IAAOA,CAAC,CAACC,QAAF,CACvFF,GADuF,CACnFG,OAAO,IAAIA,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAmBG,OAAO,IAAI,CAACA,OAAO,CAACE,MAAT,EAAiBF,OAAO,CAACG,QAAzB,CAA9B,CADwE,CAAlC;AAAjD,KAAD,CAAR;AAEC,GApBD,CAoBE,OAAOK,CAAP,EAAU;AACRnB,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACwB;AAApB,KAAD,CAAR;AACH;AACJ,CAzBM","sourcesContent":["import * as actionTypes from \"../../constants/actionTypes\";\nimport { client } from \"../../utils/ClientApi\";\nimport gql from \"graphql-tag\";\n\nexport const requestPrices = () => async dispatch => {\n    dispatch({ type: actionTypes.GET_PRODUCTS_START });\n    try {\n        const result = await client.query({\n            query: gql`\n                query getPrices {\n                    categories {\n                        products {\n                            prices {\n                                currency\n                                amount\n                            }\n                        }\n                    }\n                }\n            `\n        });\n    const allPrices = result.data.categories.map((x) => x.products\n    .map(product => product.prices.map(product => [product.amount, product.currency])));\n    console.log(allPrices)\n    dispatch({ type: actionTypes.GET_PRICES_SUCCESS, payload: result.data.categories.map((x) => x.products\n        .map(product => product.prices.map(product => [product.amount, product.currency])))})\n    } catch (e) {\n        dispatch({ type: actionTypes.GET_PRICES_FAILED })\n    }\n}"]},"metadata":{},"sourceType":"module"}