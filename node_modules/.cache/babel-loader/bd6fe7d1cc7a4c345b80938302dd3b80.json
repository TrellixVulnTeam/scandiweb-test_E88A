{"ast":null,"code":"import { gql } from '@apollo/client';\nimport * as actionTypes from '../../constants/actionTypes';\nimport { client } from '../../utils/ClientApi';\nexport const requestProducts = () => async dispatch => {\n  dispatch({\n    type: actionTypes.GET_PRODUCTS_START\n  });\n\n  try {\n    const result = await client.query({\n      query: gql`\n                query getProducts {\n                    categories {\n                        products {\n                            id\n                            name\n                            inStock\n                            gallery\n                            description\n                            category\n                            brand\n                            prices {\n                                amount\n                                currency\n                            }\n                            attributes {\n                                name\n                                id\n                                type\n                            }\n                        }\n                    }\n                }\n            `\n    });\n    const productsByCategory = result.data.categories.map(x => x.products.map(y => y));\n    dispatch({\n      type: actionTypes.GET_PRODUCTS_SUCCESS,\n      payload: productsByCategory\n    });\n  } catch (e) {\n    dispatch({\n      type: actionTypes.GET_PRODUCTS_FAILED\n    });\n  }\n};","map":{"version":3,"sources":["/Users/val/work/scandiweb-test/my-app/src/redux/actions/products.js"],"names":["gql","actionTypes","client","requestProducts","dispatch","type","GET_PRODUCTS_START","result","query","productsByCategory","data","categories","map","x","products","y","GET_PRODUCTS_SUCCESS","payload","e","GET_PRODUCTS_FAILED"],"mappings":"AAAA,SAASA,GAAT,QAAoB,gBAApB;AACA,OAAO,KAAKC,WAAZ,MAA6B,6BAA7B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM,MAAMC,QAAN,IAAkB;AACnDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEJ,WAAW,CAACK;AAApB,GAAD,CAAR;;AACA,MAAI;AACA,UAAMC,MAAM,GAAG,MAAML,MAAM,CAACM,KAAP,CAAa;AAC9BA,MAAAA,KAAK,EAAER,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxB0C,KAAb,CAArB;AA0BA,UAAMS,kBAAkB,GAAGF,MAAM,CAACG,IAAP,CAAYC,UAAZ,CAAuBC,GAAvB,CAA2BC,CAAC,IAAIA,CAAC,CAACC,QAAF,CAAWF,GAAX,CAAeG,CAAC,IAAIA,CAApB,CAAhC,CAA3B;AACAX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEJ,WAAW,CAACe,oBAApB;AAA0CC,MAAAA,OAAO,EAAER;AAAnD,KAAD,CAAR;AACH,GA7BD,CA6BE,OAAOS,CAAP,EAAU;AACRd,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEJ,WAAW,CAACkB;AAApB,KAAD,CAAR;AACH;AACJ,CAlCM","sourcesContent":["import { gql } from '@apollo/client';\nimport * as actionTypes from '../../constants/actionTypes'\nimport { client } from '../../utils/ClientApi';\n\nexport const requestProducts = () => async dispatch => {\n    dispatch({ type: actionTypes.GET_PRODUCTS_START });\n    try {\n        const result = await client.query({\n            query: gql`\n                query getProducts {\n                    categories {\n                        products {\n                            id\n                            name\n                            inStock\n                            gallery\n                            description\n                            category\n                            brand\n                            prices {\n                                amount\n                                currency\n                            }\n                            attributes {\n                                name\n                                id\n                                type\n                            }\n                        }\n                    }\n                }\n            `\n        });\n        const productsByCategory = result.data.categories.map(x => x.products.map(y => y));\n        dispatch({ type: actionTypes.GET_PRODUCTS_SUCCESS, payload: productsByCategory });\n    } catch (e) {\n        dispatch({ type: actionTypes.GET_PRODUCTS_FAILED });\n    }\n}"]},"metadata":{},"sourceType":"module"}