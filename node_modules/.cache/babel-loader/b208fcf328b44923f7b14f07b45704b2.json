{"ast":null,"code":"import _ from 'lodash';\nexport const getEqualIndex = (list, item) => {\n  return list.findIndex(x => x.id === item.id && _.isEqual(item.attrValues, x.attrValues));\n};\nexport const groupItems = list => {\n  const grouped = [];\n\n  for (let item of list) {\n    const equalIndex = getEqualIndex(grouped, item);\n\n    if (equalIndex !== -1) {\n      grouped[equalIndex].count++;\n    } else {\n      grouped.push({ ...item,\n        count: 1\n      });\n    }\n  }\n\n  return grouped;\n};","map":{"version":3,"sources":["/Users/val/work/scandiweb-test/src/utils/groupItems.js"],"names":["_","getEqualIndex","list","item","findIndex","x","id","isEqual","attrValues","groupItems","grouped","equalIndex","count","push"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;AACzC,SAAOD,IAAI,CAACE,SAAL,CAAeC,CAAC,IACnBA,CAAC,CAACC,EAAF,KAASH,IAAI,CAACG,EAAd,IACAN,CAAC,CAACO,OAAF,CAAUJ,IAAI,CAACK,UAAf,EAA2BH,CAAC,CAACG,UAA7B,CAFG,CAAP;AAGH,CAJM;AAMP,OAAO,MAAMC,UAAU,GAAIP,IAAD,IAAU;AAChC,QAAMQ,OAAO,GAAG,EAAhB;;AAEA,OAAK,IAAIP,IAAT,IAAiBD,IAAjB,EAAuB;AACnB,UAAMS,UAAU,GAAGV,aAAa,CAACS,OAAD,EAAUP,IAAV,CAAhC;;AACA,QAAIQ,UAAU,KAAK,CAAC,CAApB,EAAuB;AACnBD,MAAAA,OAAO,CAACC,UAAD,CAAP,CAAoBC,KAApB;AACH,KAFD,MAEO;AACHF,MAAAA,OAAO,CAACG,IAAR,CAAa,EAAE,GAAGV,IAAL;AAAWS,QAAAA,KAAK,EAAE;AAAlB,OAAb;AACH;AACJ;;AAED,SAAOF,OAAP;AACH,CAbM","sourcesContent":["import _ from 'lodash';\n\nexport const getEqualIndex = (list, item) => {\n    return list.findIndex(x => \n        x.id === item.id && \n        _.isEqual(item.attrValues, x.attrValues));\n}\n\nexport const groupItems = (list) => {\n    const grouped = [];\n\n    for (let item of list) {\n        const equalIndex = getEqualIndex(grouped, item);\n        if (equalIndex !== -1) {\n            grouped[equalIndex].count++;\n        } else {\n            grouped.push({ ...item, count: 1 });\n        }\n    }\n\n    return grouped;\n}"]},"metadata":{},"sourceType":"module"}