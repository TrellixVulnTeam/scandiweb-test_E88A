{"ast":null,"code":"import { gql } from '@apollo/client';\nimport * as actionTypes from '../../constants/actionTypes';\nimport { client } from '../../utils/ClientApi';\nexport const requestProducts = categoryName => async dispatch => {\n  dispatch({\n    type: actionTypes.GET_PRODUCTS_START\n  });\n\n  try {\n    if (categoryName !== \"all\") {\n      const result = await client.query({\n        query: gql`\n                    query getProducts {\n                        category (input: {title: \"${categoryName}\"}) {\n                            products {\n                                id\n                                name\n                                inStock\n                                gallery\n                                description\n                                category\n                                brand\n                                prices {\n                                    amount\n                                    currency\n                                }\n                                attributes {\n                                    name\n                                    id\n                                    type\n                                    items {\n                                        displayValue\n                                        value\n                                        id\n                                      }\n                                }\n                            }\n                        }\n                    }\n                `\n      });\n      dispatch({\n        type: actionTypes.GET_PRODUCTS_SUCCESS,\n        payload: result.data.category.products\n      });\n    } else {\n      const result = await client.query({\n        query: gql`\n                query getProducts {\n                    category {\n                        products {\n                            id\n                            name\n                            inStock\n                            gallery\n                            description\n                            category\n                            brand\n                            prices {\n                                amount\n                                currency\n                            }\n                            attributes {\n                                name\n                                id\n                                type\n                                items {\n                                    displayValue\n                                    value\n                                    id\n                                  }\n                            }\n                        }\n                    }\n                }\n            `\n      });\n      dispatch({\n        type: actionTypes.GET_PRODUCTS_SUCCESS,\n        payload: result.data.category.products\n      });\n    }\n  } catch (e) {\n    dispatch({\n      type: actionTypes.GET_PRODUCTS_FAILED\n    });\n  }\n};\nexport const requestProductById = productId => async dispatch => {\n  dispatch({\n    type: actionTypes.GET_PRODUCT_BY_ID_START\n  });\n\n  try {\n    const result = await client.query({\n      query: gql`\n                query getProductById {\n                    product (id: {\"${productId}\"}) {\n                            id\n                            name\n                            inStock\n                            gallery\n                            description\n                            category\n                            brand\n                            prices {\n                                amount\n                                currency\n                            }\n                            attributes {\n                                name\n                                id\n                                type\n                                items {\n                                    displayValue\n                                    value\n                                    id\n                                  }\n                            }\n                        }\n                }\n            `\n    });\n    dispatch({\n      type: actionTypes.GET_PRODUCTS_SUCCESS,\n      payload: result.data\n    });\n  } catch (e) {\n    dispatch({\n      type: actionTypes.GET_PRODUCT_BY_ID_FAILED\n    });\n  }\n};\nexport const addProductAttribute = productAttribute => dispatch => dispatch({\n  type: actionTypes.ADD_PRODUCT_ATTRIBUTE,\n  payload: productAttribute\n});","map":{"version":3,"sources":["/Users/val/work/scandiweb-test/src/redux/actions/products.js"],"names":["gql","actionTypes","client","requestProducts","categoryName","dispatch","type","GET_PRODUCTS_START","result","query","GET_PRODUCTS_SUCCESS","payload","data","category","products","e","GET_PRODUCTS_FAILED","requestProductById","productId","GET_PRODUCT_BY_ID_START","GET_PRODUCT_BY_ID_FAILED","addProductAttribute","productAttribute","ADD_PRODUCT_ATTRIBUTE"],"mappings":"AAAA,SAASA,GAAT,QAAoB,gBAApB;AACA,OAAO,KAAKC,WAAZ,MAA6B,6BAA7B;AACA,SAASC,MAAT,QAAuB,uBAAvB;AAEA,OAAO,MAAMC,eAAe,GAAIC,YAAD,IAAkB,MAAMC,QAAN,IAAkB;AAC/DA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,WAAW,CAACM;AAApB,GAAD,CAAR;;AACA,MAAI;AACA,QAAIH,YAAY,KAAK,KAArB,EAA4B;AACxB,YAAMI,MAAM,GAAG,MAAMN,MAAM,CAACO,KAAP,CAAa;AAC9BA,QAAAA,KAAK,EAAET,GAAI;AAC3B;AACA,oDAAoDI,YAAa;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7B8C,OAAb,CAArB;AA+BAC,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEL,WAAW,CAACS,oBAApB;AAA0CC,QAAAA,OAAO,EAAEH,MAAM,CAACI,IAAP,CAAYC,QAAZ,CAAqBC;AAAxE,OAAD,CAAR;AACH,KAjCD,MAiCO;AACP,YAAMN,MAAM,GAAG,MAAMN,MAAM,CAACO,KAAP,CAAa;AAC9BA,QAAAA,KAAK,EAAET,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7B0C,OAAb,CAArB;AA+BAK,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEL,WAAW,CAACS,oBAApB;AAA0CC,QAAAA,OAAO,EAAEH,MAAM,CAACI,IAAP,CAAYC,QAAZ,CAAqBC;AAAxE,OAAD,CAAR;AACH;AAEA,GArED,CAqEE,OAAOC,CAAP,EAAU;AACRV,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACe;AAApB,KAAD,CAAR;AACH;AACJ,CA1EM;AA4EP,OAAO,MAAMC,kBAAkB,GAAIC,SAAD,IAAe,MAAMb,QAAN,IAAkB;AAC/DA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEL,WAAW,CAACkB;AAApB,GAAD,CAAR;;AACA,MAAI;AACA,UAAMX,MAAM,GAAG,MAAMN,MAAM,CAACO,KAAP,CAAa;AAC9BA,MAAAA,KAAK,EAAET,GAAI;AACvB;AACA,qCAAqCkB,SAAU;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3B0C,KAAb,CAArB;AA6BAb,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACS,oBAApB;AAA0CC,MAAAA,OAAO,EAAEH,MAAM,CAACI;AAA1D,KAAD,CAAR;AACH,GA/BD,CA+BE,OAAOG,CAAP,EAAU;AACRV,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,WAAW,CAACmB;AAApB,KAAD,CAAR;AACH;AACJ,CApCM;AAsCP,OAAO,MAAMC,mBAAmB,GAAGC,gBAAgB,IAAIjB,QAAQ,IAAIA,QAAQ,CAAC;AAAEC,EAAAA,IAAI,EAAEL,WAAW,CAACsB,qBAApB;AAA2CZ,EAAAA,OAAO,EAAEW;AAApD,CAAD,CAApE","sourcesContent":["import { gql } from '@apollo/client';\nimport * as actionTypes from '../../constants/actionTypes'\nimport { client } from '../../utils/ClientApi';\n\nexport const requestProducts = (categoryName) => async dispatch => {\n    dispatch({ type: actionTypes.GET_PRODUCTS_START });\n    try {\n        if (categoryName !== \"all\") {\n            const result = await client.query({\n                query: gql`\n                    query getProducts {\n                        category (input: {title: \"${categoryName}\"}) {\n                            products {\n                                id\n                                name\n                                inStock\n                                gallery\n                                description\n                                category\n                                brand\n                                prices {\n                                    amount\n                                    currency\n                                }\n                                attributes {\n                                    name\n                                    id\n                                    type\n                                    items {\n                                        displayValue\n                                        value\n                                        id\n                                      }\n                                }\n                            }\n                        }\n                    }\n                `\n            });\n            dispatch({ type: actionTypes.GET_PRODUCTS_SUCCESS, payload: result.data.category.products });\n        } else {\n        const result = await client.query({\n            query: gql`\n                query getProducts {\n                    category {\n                        products {\n                            id\n                            name\n                            inStock\n                            gallery\n                            description\n                            category\n                            brand\n                            prices {\n                                amount\n                                currency\n                            }\n                            attributes {\n                                name\n                                id\n                                type\n                                items {\n                                    displayValue\n                                    value\n                                    id\n                                  }\n                            }\n                        }\n                    }\n                }\n            `\n        });\n        dispatch({ type: actionTypes.GET_PRODUCTS_SUCCESS, payload: result.data.category.products });\n    }\n        \n    } catch (e) {\n        dispatch({ type: actionTypes.GET_PRODUCTS_FAILED });\n    }\n}\n\nexport const requestProductById = (productId) => async dispatch => {\n    dispatch({ type: actionTypes.GET_PRODUCT_BY_ID_START });\n    try {\n        const result = await client.query({\n            query: gql`\n                query getProductById {\n                    product (id: {\"${productId}\"}) {\n                            id\n                            name\n                            inStock\n                            gallery\n                            description\n                            category\n                            brand\n                            prices {\n                                amount\n                                currency\n                            }\n                            attributes {\n                                name\n                                id\n                                type\n                                items {\n                                    displayValue\n                                    value\n                                    id\n                                  }\n                            }\n                        }\n                }\n            `\n        });\n        dispatch({ type: actionTypes.GET_PRODUCTS_SUCCESS, payload: result.data });\n    } catch (e) {\n        dispatch({ type: actionTypes.GET_PRODUCT_BY_ID_FAILED });\n    }\n}\n\nexport const addProductAttribute = productAttribute => dispatch => dispatch({ type: actionTypes.ADD_PRODUCT_ATTRIBUTE, payload: productAttribute });\n"]},"metadata":{},"sourceType":"module"}